/*
 * CssJserBlog
 * v0.0.1
 * 2014-04-22
 **/
define(["jquery"],function(a,b,c){var d=a("jquery"),e={wrapBox:"#notifications",messages:[],closeHook:".close"},f=function(a){this.opts=d.extend({},e,a),d(this.opts.wrapBox).length&&this.init()},g={error:"notification-error",success:"notification-success"};f.Template='<div class="notifications-wrap"><section class="notification {{messageType}}">{{info}}<a class="close" href="#"><span class="hidden">Close</span></a></section></div>',f.prototype={init:function(){this._render(),this.closeEvent()},closeEvent:function(){d(document).on("click",this.opts.closeHook,function(a){return d(a.currentTarget).closest(".notifications-wrap").remove(),!1})},_render:function(){for(var a,b;this.opts.messages.length;)a=this.opts.messages.shift(),b=f.Template.replace("{{info}}",a.info).replace("{{messageType}}",a.type),d(this.opts.wrapBox).append(b)},_destroy:function(){d(this.opts.wrapBox).html("")},show:function(a){a&&a.info&&a.type&&(this._destroy(),this.opts.messages.push(a),this._render())}},c.exports={Message:f,MessageTypes:g}});
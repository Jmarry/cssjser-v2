/*
 * CssJserBlog
 * v0.0.1
 * 2014-04-22
 **/
define(["jquery","utils/notification","utils/regExps"],function(a){var b=a("jquery"),c=a("utils/notification"),d=a("utils/regExps"),e=new c.Message;b("#register").on("submit",function(){var a=b(this.email).val(),f=b(this.name).val(),g=b(this.password).val();return f?d.email.test(a)?g?(b.ajax({url:"/register",type:"post",dataType:"json",data:{email:a,name:f,password:g},headers:{"X-CSRF-Token":b("meta[name='csrf-param']").attr("content")},success:function(a){window.location.href=a.redirect},error:function(a){var d="";try{d=b.parseJSON(a.response).error}catch(f){d=a}e.show({type:c.MessageTypes.error,info:d})}}),!1):(e.show({info:"password 不能为空",type:c.MessageTypes.error}),!1):(e.show({info:"email 格式不正确",type:c.MessageTypes.error}),!1):(e.show({info:"Full Name 不能为空",type:c.MessageTypes.error}),!1)})});